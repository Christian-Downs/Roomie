@model Roomie.Models.Appartment

@{
    ViewBag.Title = "Details";
    var key = System.Configuration.ConfigurationManager.AppSettings["mapskey"];
    var mapurlBase = "https://www.google.com/maps/embed/v1/place";
    var q = HttpUtility.UrlEncode(Model.Street + "," + Model.City + "," + Model.ZipCode);
    var mapurl = $"{mapurlBase}?key={key}&q={q}&maptype=satellite";


    var imagePath = "";
    imagePath = @"~/images/" + Model.id.ToString() + "Appartment.jpg";

}




<div class="Appartment-Details">
    <iframe @*width="600"
                height="450"
                *@="0" style="border:0"
            src="@mapurl" allowfullscreen
            class="Map-iframe"></iframe>
    <div id="right">
        @*<h4>Appartment</h4>
            <hr />*@

        @Html.Action("Details", "Photos", new { id = Model.PhotoID, cssClass = "Appartment-Photo" })
    </div>
    <div id="left">
        <dl class="dl-horizontal">
            <dt>
                Rent Cost
            </dt>

            <dd>
                $@Html.DisplayFor(model => model.RentCost)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Description)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Description)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Street)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Street)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.City)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.City)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Country)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Country)
            </dd>
            <dd>

            </dd>
            <dt class="Book-Appointment-Button">
                <button onclick="bookAppointment()" class="Book-Appointment-Button">
                    Book Appointment
                </button>
            </dt>
        </dl>
        @using (Html.BeginForm("BookAppointment", "Appartments", new { id = Model.id }, FormMethod.Post, new { id = "bookAppointment" })) { }
    </div>
    <br style="clear:both;" />
</div>
<p>
    @*@Html.ActionLink("Edit", "Edit", new { id = Model.ID }) |*@
    @Html.ActionLink("Back to List", "Index")
</p>

@section scripts{
    <script type="text/javascript">

        function bookAppointment() {
            alert("Emailed realitor!");
            //$("#bookAppointment").submit();
        }

        
    </script>
}



